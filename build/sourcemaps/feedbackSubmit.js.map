{"version":3,"sources":["feedbackSubmit.js"],"names":[],"mappings":";;AAAA,IAAI,CAAC,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC;;AAE/B,IAAI,GAAG,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC;AAC3B,IAAI,CAAC,GAAG,OAAO,CAAC,cAAc,CAAC,CAAC;;AAEhC,MAAM,CAAC,OAAO,GAAI,WAAW,IAAI,EAAE;;;;AAIjC,MAAI,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;AACvC,GAAC,CAAC,MAAM,CAAC,KAAK,EAAE;AACd,MAAE,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE;AACnB,QAAI,EAAE,CAAC,CAAC,GAAG,EAAE,EACd,CAAC,CAAC;AACH,MAAI,MAAM,GAAG,MAAM,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;;AAEpE,KAAG,CAAC,sBAAsB,EAAE,KAAK,CAAC,WAAW,CAAC,CAAC;AAC/C,MAAI,CAAC,IAAI,GAAG,EAAC,GAAG,EAAC,IAAI,EAAC,CAAC;CAGxB,AAAC,CAAC","file":"feedbackSubmit.js","sourcesContent":["var _ = require('lodash-node');\n\nvar log = require('./log');\nvar r = require('./database/r');\n\nmodule.exports = (function *(next) {\n\n  // Example: { feedback: 'feedback', contactInfo: 'contactInfo' }\n\n  var props = _.clone(this.request.body);\n  _.assign(props, {\n    ip: this.request.ip,\n    time: r.now(),\n  });\n  var result = yield r.db('exp_host').table('feedback').insert(props);\n\n  log(\"Logged feedback from\", props.contactInfo);\n  this.body = {err:null};\n\n\n});\n"],"sourceRoot":"/source/"}